<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/ >
    <title>Blending Game</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            margin: 0;
            background: #f0f9ff;
            color: #333;
        }

        header {
            background: #2d9bf0;
            color: #fff;
            padding: 20px 0;
        }

        header h1 {
            margin: 0;
            font-size: 2em;
        }

        header p {
            margin: 5px 0 0;
            font-size: 1.1em;
        }

        .container {
            position: relative;
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
        }

        .road-strip {
            display: flex;
            justify-content: space-around;
            background: #a5c9ea url('https://i.imgur.com/VwQY1jJ.png') center/cover no-repeat;
            border-radius: 20px;
            padding: 20px;
            margin-top: 80px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            position: relative;
        }

        .road-strip::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            height: 2px;
            width: 100%;
            background: #fff;
            transform: translateY(-50%);
            opacity: 0.7;
        }

        .road-strip div {
            border: 2px solid #2d9bf0;
            width: 100px;
            height: 100px;
            line-height: 100px;
            font-size: 32px;
            background: #ffffff;
            text-transform: uppercase;
            border-radius: 10px;
            transition: background 0.3s, box-shadow 0.3s;
            position: relative;
            z-index: 1;
        }

        .road-strip div.highlight {
            background: #fdf49b;
            box-shadow: 0 0 15px #f2dd5e;
        }

        #bus {
            position: absolute;
            top: 0;
            left: calc(50% - 60px);
            width: 120px;
            height: 70px;
            background-color: #fcd116;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            cursor: grab;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
            user-select: none;
        }

        #bus:active {
            cursor: grabbing;
        }

        footer {
            margin: 40px 0 20px;
            font-size: 0.9em;
            color: #555;
        }
    </style>
</head>
<body>
    <header>
        <h1>Blending Game</h1>
        <p>Drag the bus onto the road and blend the sounds!</p>
    </header>
    <main>
        <div class="container">
            <!-- Draggable bus element -->
            <div id="bus" draggable="true" aria-label="Drag the bus to hear the letters blend">Bus</div>
            
            <!-- Road strip with letter blocks -->
            <div class="road-strip" aria-label="Letter blocks on the road">
                <div data-sound="c" aria-label="Letter C">C</div>
                <div data-sound="a" aria-label="Letter A">A</div>
                <div data-sound="t" aria-label="Letter T">T</div>
            </div>
        </div>
    </main>
    <footer>
        &copy; 2024 Your Company. All rights reserved.
    </footer>

    <script>
        // Get references to elements
        const bus = document.getElementById('bus');
        const roadStrip = document.querySelector('.road-strip');
        const letterBlocks = Array.from(roadStrip.children);

        // Check for Web Speech API support
        if (!('speechSynthesis' in window)) {
            alert("Your browser does not support speech synthesis. The blending sounds will not be available.");
        }

        // Text-to-Speech Function
        function speak(text) {
            if (!('speechSynthesis' in window)) return;
            const synth = window.speechSynthesis;
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-GB'; // British English
            synth.speak(utterance);
        }

        // Drag and Drop Events for the bus
        bus.addEventListener('dragstart', (e) => {
            e.dataTransfer.setData('text', 'bus');
        });

        roadStrip.addEventListener('dragover', (e) => {
            e.preventDefault();
        });

        roadStrip.addEventListener('drop', (e) => {
            e.preventDefault();
            const dragged = e.dataTransfer.getData('text');
            if (dragged === 'bus') {
                // If bus is dropped on the road, start blending the sounds
                blendSounds();
            }
        });

        // Function to blend sounds
        function blendSounds() {
            let word = '';
            // Iterate through each letter block and speak them with a delay
            letterBlocks.forEach((block, index) => {
                setTimeout(() => {
                    // Highlight the current letter being spoken
                    block.classList.add('highlight');

                    // Speak the sound
                    const sound = block.getAttribute('data-sound');
                    speak(sound);

                    // After a short delay, remove highlight
                    setTimeout(() => {
                        block.classList.remove('highlight');
                    }, 800);

                }, index * 1200);

                word += block.textContent;
            });

            // Speak the entire word after finishing the letters
            setTimeout(() => {
                speak(word.toLowerCase());
            }, letterBlocks.length * 1200);
        }
    </script>
</body>
</html>
