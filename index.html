<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blending Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
        }
        .road-strip {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .road-strip div {
            border: 1px solid #ccc;
            width: 100px;
            height: 100px;
            line-height: 100px;
            font-size: 24px;
            background: #f0f0f0;
            text-transform: uppercase;
        }
        #bus {
            position: absolute;
            width: 120px;
            height: 70px;
            background-color: yellow;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            cursor: grab;
        }
    </style>
</head>
<body>
    <h1>Blending Game</h1>
    <p>Drag the bus along the road and blend the sounds!</p>
    <div class="container">
        <div id="bus" draggable="true">Bus</div>
        <div class="road-strip">
            <div data-sound="c">c</div>
            <div data-sound="a">a</div>
            <div data-sound="t">t</div>
        </div>
    </div>
    <script>
        const bus = document.getElementById('bus');
        const roadStrip = document.querySelector('.road-strip');
        const letterSounds = Array.from(roadStrip.children);

        // Web Speech API - Text-to-Speech
        function speak(text) {
            const synth = window.speechSynthesis;
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-GB'; // Set to UK English
            synth.speak(utterance);
        }

        // Dragging and blending functionality
        bus.addEventListener('dragstart', (e) => {
            e.dataTransfer.setData('text', 'bus');
        });

        roadStrip.addEventListener('dragover', (e) => {
            e.preventDefault();
        });

        roadStrip.addEventListener('drop', (e) => {
            e.preventDefault();
            const dragged = e.dataTransfer.getData('text');
            if (dragged === 'bus') {
                let word = '';
                letterSounds.forEach((box, index) => {
                    setTimeout(() => {
                        speak(box.getAttribute('data-sound')); // Speak each letter sound
                    }, index * 1000); // Delay between each letter
                    word += box.textContent;
                });

                // Speak the full word after sounding off all letters
                setTimeout(() => {
                    speak(word);
                }, letterSounds.length * 1000);
            }
        });
    </script>
</body>
</html>
